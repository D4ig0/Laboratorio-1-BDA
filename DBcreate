DROP DATABASE IF EXISTS desastresDB;

-- Crear database
CREATE DATABASE desastresDB
	WITH 
	OWNER = postgres 
	ENCODING = 'UTF8' 
	LC_COLLATE = 'Spanish_Chile.1252' 
	LC_CTYPE = 'Spanish_Chile.1252' 
	TABLESPACE = pg_default 
	CONNECTION LIMIT = -1 
	IS_TEMPLATE = False; 
 
COMMENT ON DATABASE desastresDB 
	IS 'laboratorio 1 - base de datos avanzadas';

--- Escribir el siguiente comando en el SQL Shell, para utilizar la base de datos creada:
---  \c desastresDB
--- O ingresar una query en pgAdmin

CREATE TABLE IF NOT EXISTS desastresDB.public.instituciones (
    id_institucion SERIAL NOT NULL,
    nombre varchar(50),
    direccion varchar(50),
    PRIMARY KEY (id_institucion)
);

CREATE TABLE IF NOT EXISTS desastresDB.public.emergencias (
    id_emergencia SERIAL NOT NULL,
    nombre varchar(50),
    descripcion varchar(250),
    fecha date,
    --- Tengo dudas si requerimientos debe ser una clase aparte o si se puede dejar como varchar
    --- ya que nos piden que se puede saleccionar como requerimiento
    requerimientos varchar(250),
    --- "Activa" o "Inactiva
    estado varchar(50),
    PRIMARY KEY (id_emergencia),
    FOREIGN KEY (id_institucion) REFERENCES desastresDB.public.instituciones(id_institucion)
);